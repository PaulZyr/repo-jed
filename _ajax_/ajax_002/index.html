<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>AJAX IP</title>
  </head>
  <body>

    <h1>AJAX with JavaScript!</h1>
    <p id="demo">Let AJAX change this text</p>
    <button type="button" onclick="loadDoc()">Change Content</button>

    <script>
    // AJAX = Asynchronous JavaScript And XML

    function loadDoc() {
      var xhr = new XMLHttpRequest();
      xhr.onreadystatechange = function() {
        console.log(this);
        if (this.readyState == 4 && this.status == 200) {
         document.getElementById("demo").innerHTML = this.responseText;
        }
      };
      // xhr.open("GET", "https://cors-anywhere.herokuapp.com/http://carnes.cc/code/ajax_example.txt", true);
      xhr.open("GET", "data.txt", true);
      xhr.send();
    }

    /*
    Adding "https://cors-anywhere.herokuapp.com/" prevents the following error:

    XMLHttpRequest cannot load http://carnes.cc/code/ajax_example.txt. No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin 'https://s.codepen.io' is therefore not allowed access.
    */
    </script>
  </body>
</html>
